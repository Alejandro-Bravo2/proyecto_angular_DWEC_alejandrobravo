@import '../../../../../styles/00-settings/css-variables';
@import '../../../../../styles/01-tools/mixins';

.preferences-nutrition {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-size-l);

  @include responsive('s') {
    gap: var(--spacing-size-xl);
  }

  // ====================================
  // SECTION CONTAINER - Premium Glass
  // ====================================
  &__section {
    padding: var(--spacing-size-l);
    border-radius: var(--radius-xl);
    animation: nutritionFadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) backwards;

    // Premium glass background
    background: linear-gradient(
      145deg,
      rgba(255, 255, 255, 0.05) 0%,
      rgba(255, 255, 255, 0.02) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow:
      0 4px 24px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
    @include transition-premium;

    // Staggered animation delays
    &:nth-child(1) {
      animation-delay: 0s;
    }
    &:nth-child(2) {
      animation-delay: 0.1s;
    }

    @include responsive('s') {
      padding: var(--spacing-size-xl);
    }

    // Hover lift effect
    &:hover {
      border-color: rgba(255, 255, 255, 0.1);
      box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.12),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
      transform: translateY(-2px);
    }
  }

  // ====================================
  // SECTION HEADER
  // ====================================
  &__section-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-size-m);
    margin-bottom: var(--spacing-size-s);
  }

  &__section-icon {
    font-size: var(--font-size-2xl);
    @include transition-premium;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));

    .preferences-nutrition__section:hover & {
      transform: scale(1.15) rotate(5deg);
    }
  }

  &__section-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin: 0;
    letter-spacing: var(--letter-spacing-tight);

    @include responsive('s') {
      font-size: var(--font-size-xl);
    }
  }

  &__description {
    color: var(--text-muted);
    margin: 0 0 var(--spacing-size-l);
    font-size: var(--font-size-sm);
    line-height: 1.6;

    @include responsive('s') {
      font-size: var(--font-size-md);
    }
  }
}

// Animation keyframes
@keyframes nutritionFadeIn {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .preferences-nutrition {
    &__section {
      animation: none;

      &:hover {
        transform: none;
      }
    }

    &__section-icon {
      transition: none;

      .preferences-nutrition__section:hover & {
        transform: none;
      }
    }
  }
}
