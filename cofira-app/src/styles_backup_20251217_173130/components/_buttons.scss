// ============================================================================
// COFIRA - Buttons Component
// ============================================================================
// IMPORTANTE: Usa CSS custom properties y el mixin boton-base
// Incluye alias en español para nomenclatura BEM
// ============================================================================

.c-button {
  @include boton-base;
  gap: var(--spacing-xs);
  @include focus-visible;

  // ========================================
  // Variants
  // ========================================

  // Primary Button (Amarillo - Brand)
  &--primary {
    background-color: var(--color-brand-primary);
    color: var(--color-black);

    &:hover:not(:disabled) {
      background-color: var(--color-brand-primary-hover);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(253, 185, 19, 0.3);
    }

    &:active:not(:disabled) {
      background-color: var(--color-brand-primary-active);
      transform: translateY(0);
      box-shadow: none;
    }
  }

  // Secondary Button (Outline)
  &--secondary {
    background-color: transparent;
    border: 2px solid var(--text-primary);
    color: var(--text-primary);
    padding: calc(var(--spacing-s) - 2px) calc(var(--spacing-l) - 2px);

    &:hover:not(:disabled) {
      background-color: rgba(255, 255, 255, 0.1);
      border-color: var(--color-brand-primary);
      color: var(--color-brand-primary);
    }

    &:active:not(:disabled) {
      background-color: rgba(255, 255, 255, 0.05);
    }
  }

  // Ghost Button (Transparent)
  &--ghost {
    background-color: transparent;
    color: var(--text-primary);
    border: none;

    &:hover:not(:disabled) {
      background-color: rgba(255, 255, 255, 0.05);
    }

    &:active:not(:disabled) {
      background-color: rgba(255, 255, 255, 0.1);
    }
  }

  // Danger Button
  &--danger {
    background-color: var(--color-error);
    color: var(--color-white);

    &:hover:not(:disabled) {
      background-color: #D32F2F;
      transform: translateY(-2px);
    }

    &:active:not(:disabled) {
      background-color: #C62828;
      transform: translateY(0);
    }
  }

  // Success Button
  &--success {
    background-color: var(--color-success);
    color: var(--color-white);

    &:hover:not(:disabled) {
      background-color: #43A047;
      transform: translateY(-2px);
    }

    &:active:not(:disabled) {
      background-color: #388E3C;
      transform: translateY(0);
    }
  }

  // Info Button
  &--info {
    background-color: var(--color-info);
    color: var(--color-white);

    &:hover:not(:disabled) {
      background-color: #1E88E5;
      transform: translateY(-2px);
    }

    &:active:not(:disabled) {
      background-color: #1976D2;
      transform: translateY(0);
    }
  }

  // Warning Button
  &--warning {
    background-color: var(--color-warning);
    color: var(--color-black);

    &:hover:not(:disabled) {
      background-color: #FB8C00;
      transform: translateY(-2px);
    }

    &:active:not(:disabled) {
      background-color: #F57C00;
      transform: translateY(0);
    }
  }

  // ========================================
  // Sizes
  // ========================================

  &--tiny {
    padding: var(--spacing-2xs) var(--spacing-xs);
    font-size: var(--font-size-xs);
    gap: 4px;
  }

  &--small {
    padding: var(--spacing-xs) var(--spacing-s);
    font-size: var(--font-size-sm);
  }

  &--large {
    padding: var(--spacing-m) var(--spacing-xl);
    font-size: var(--font-size-lg);
  }

  // ========================================
  // Modifiers
  // ========================================

  // Full Width
  &--full {
    width: 100%;
  }

  // Icon Only (square)
  &--icon {
    padding: var(--spacing-s);
    width: 40px;
    height: 40px;

    &.c-button--small {
      width: 32px;
      height: 32px;
      padding: var(--spacing-xs);
    }

    &.c-button--large {
      width: 48px;
      height: 48px;
      padding: var(--spacing-s);
    }
  }

  // Rounded (pill-shaped)
  &--rounded {
    border-radius: var(--radius-pill);
  }

  // Loading state
  &--loading {
    position: relative;
    color: transparent !important;
    pointer-events: none;

    &::after {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      top: 50%;
      left: 50%;
      margin-left: -8px;
      margin-top: -8px;
      border: 2px solid currentColor;
      border-radius: 50%;
      border-top-color: transparent;
      animation: spin 0.6s linear infinite;
    }
  }
}

// ============================================================================
// Button Group
// ============================================================================

.c-button-group {
  display: inline-flex;
  gap: 0;

  .c-button {
    border-radius: 0;

    &:first-child {
      border-top-left-radius: var(--radius-xs);
      border-bottom-left-radius: var(--radius-xs);
    }

    &:last-child {
      border-top-right-radius: var(--radius-xs);
      border-bottom-right-radius: var(--radius-xs);
    }

    &:not(:last-child) {
      border-right: none;
    }
  }

  &--vertical {
    flex-direction: column;

    .c-button {
      &:first-child {
        border-radius: 0;
        border-top-left-radius: var(--radius-xs);
        border-top-right-radius: var(--radius-xs);
      }

      &:last-child {
        border-radius: 0;
        border-bottom-left-radius: var(--radius-xs);
        border-bottom-right-radius: var(--radius-xs);
      }

      &:not(:last-child) {
        border-right: auto;
        border-bottom: none;
      }
    }
  }
}

// ============================================================================
// ALIAS EN ESPAÑOL (Nomenclatura BEM)
// ============================================================================
// Mantiene compatibilidad con clases inglesas existentes

// Bloque: Boton
.boton {
  @extend .c-button;
}

// Modificadores de variante
.boton--primario {
  @extend .c-button--primary;
}

.boton--secundario {
  @extend .c-button--secondary;
}

.boton--fantasma {
  @extend .c-button--ghost;
}

.boton--peligro {
  @extend .c-button--danger;
}

.boton--exito {
  @extend .c-button--success;
}

.boton--info {
  @extend .c-button--info;
}

.boton--advertencia {
  @extend .c-button--warning;
}

// Modificadores de tamaño
.boton--diminuto {
  @extend .c-button--tiny;
}

.boton--pequeno {
  @extend .c-button--small;
}

.boton--grande {
  @extend .c-button--large;
}

// Modificadores de estado/forma
.boton--completo {
  @extend .c-button--full;
}

.boton--icono {
  @extend .c-button--icon;
}

.boton--redondeado {
  @extend .c-button--rounded;
}

.boton--cargando {
  @extend .c-button--loading;
}

// Grupo de botones
.grupo-botones {
  @extend .c-button-group;
}

.grupo-botones--vertical {
  @extend .c-button-group--vertical;
}

// ============================================================================
// Animations
// ============================================================================

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
